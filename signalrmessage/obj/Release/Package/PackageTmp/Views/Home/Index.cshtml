@{
	Layout = null;
}

<b>Type your name to begin chat</b>
<input type="text" id="message" />
<input type="button" id="sendmessage" value="Send" />
<input type="hidden" id="displayname" />
<ul id="discussion"></ul>
<!--Script references. -->
<!--Reference the jQuery library. -->
<script src="../Scripts/jquery-1.10.2.min.js"></script>

<!--Reference the SignalR library. -->

<script src="../Scripts/jquery.signalR-2.2.3.min.js"></script>

<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<!--Add script to update the page and send messages.-->

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
	$(function () {
		// Declare a proxy to reference the hub.
		var chat = $.connection.messageHub;
		// Create a function that the hub can call to broadcast messages.
		chat.client.broadcastMessage = function (name, message) {
			// Html encode display name and message.
			var encodedName = $('<div />').text(name).html();
			var encodedMsg = $('<div />').text(message).html();
			// Add the message to the page.
			$('#discussion').append('<li><strong>' + encodedName
				+ '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
		};
		// Get the user name and store it to prepend to messages.
		$('#displayname').val(prompt('Enter your name:', ''));
		// Set initial focus to message input box.
		$('#message').focus();
		// Start the connection.
		$.connection.hub.start().done(function () {
			$('#sendmessage').click(function () {
				// Call the Send method on the hub.
				chat.server.sendMessage($('#displayname').val(), $('#message').val());
				// Clear text box and reset focus for next comment.
				$('#message').val('').focus();
			});
		});
	});
</script>

<div class="container">
	<div class="row">
		<div class="col-md-6">
			<div class="row text-center">
				<h2>Your Message</h2>
			</div>
			<div class="row">
				<input type="text" id="message" placeholder="Enter your message..." />
				<input type="button" class="btn-primary" value="Send" />
			</div>
		</div>
		<div class="col-md-6">
			<div class="row text-center">
				<h2>Conversation</h2>
			</div>
			<div class="row">
				<ul style="list-style:none;"></ul>
			</div>
		</div>
	</div>
</div>

<script>
	var app = angular.module('myApp', []);
	app.controller('myCtrl', function ($scope) {
		$scope.firstName = "John";
		$scope.lastName = "Doe";
	});
</script>